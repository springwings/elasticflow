(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d1640af"],{"02f4":function(e,t,a){var n=a("4588"),r=a("be13");e.exports=function(e){return function(t,a){var o,i,l=String(r(t)),c=n(a),s=l.length;return c<0||c>=s?e?"":void 0:(o=l.charCodeAt(c),o<55296||o>56319||c+1===s||(i=l.charCodeAt(c+1))<56320||i>57343?e?l.charAt(c):o:e?l.slice(c,c+2):i-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var n=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"0bfb":function(e,t,a){"use strict";var n=a("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,a){"use strict";a("b0c5");var n=a("2aba"),r=a("32e9"),o=a("79e5"),i=a("be13"),l=a("2b4c"),c=a("520a"),s=l("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var f=l(e),p=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p?!o((function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[s]=function(){return a}),a[f](""),!t})):void 0;if(!p||!h||"replace"===e&&!u||"split"===e&&!d){var m=/./[f],g=a(i,f,""[e],(function(e,t,a,n,r){return t.exec===c?p&&!r?{done:!0,value:m.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}})),v=g[0],b=g[1];n(String.prototype,e,v),r(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"2f21":function(e,t,a){"use strict";var n=a("79e5");e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"2fdb":function(e,t,a){"use strict";var n=a("5ca1"),r=a("d2c8"),o="includes";n(n.P+n.F*a("5147")(o),"String",{includes:function(e){return!!~r(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"386d":function(e,t,a){"use strict";var n=a("cb7c"),r=a("83a1"),o=a("5f1b");a("214f")("search",1,(function(e,t,a,i){return[function(a){var n=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=i(a,e,this);if(t.done)return t.value;var l=n(e),c=String(this),s=l.lastIndex;r(s,0)||(l.lastIndex=0);var u=o(l,c);return r(l.lastIndex,s)||(l.lastIndex=s),null===u?-1:u.index}]}))},"3f76":function(e,t,a){},"47d5":function(e,t,a){"use strict";a.r(t);a("7f7f"),a("386d");var n=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{staticClass:"taskForm",attrs:{inline:"",model:e.search}},[t("el-form-item",{attrs:{label:"",prop:"instance"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入模块名称",clearable:"",maxlength:32},on:{clear:e.handleSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),t("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stripe:"","header-cell-style":{background:"#ddd",color:"#333"},data:e.tableData.slice((e.page.index-1)*e.page.size,e.page.size*e.page.index),border:""}},[t("el-table-column",{attrs:{prop:"name",label:"模块名称","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"desc",label:"说明","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"readtype",label:"读端类型","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"computetype",label:"计算端类型","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"writetype",label:"写端类型","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"path",label:"模块路径","min-width":150,"show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"opencompute",label:"模块类型","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[!0===n.opencompute?t("i",[e._v("读/写/计算")]):t("i",[e._v("读/写")])]}}])}),t("el-table-column",{attrs:{prop:"enable",label:"启用","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){var a=e.row;return[!0===a.enable?t("i",{staticClass:"el-isopen el-icon-size el-icon-success"}):t("i",{staticClass:"el-isclose el-icon-size el-icon-error"})]}}])}),t("el-table-column",{attrs:{prop:"Manage",label:"模块管理","min-width":150},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[!1===n.enable?t("el-button",{attrs:{title:"启用实例",type:"primary"},nativeOn:{click:function(t){return e.handleOpen(n)}}},[e._v("启用")]):e._e(),!0===n.enable?t("el-button",{attrs:{title:"停止实例",type:"warning"},nativeOn:{click:function(t){return e.handleClose(n)}}},[e._v("停止")]):e._e(),t("el-button",{attrs:{title:"修改模块配置",type:"primary"},nativeOn:{click:function(t){return e.handleConfig(n)}}},[e._v("修改")]),t("el-button",{attrs:{title:"卸载模块",disabled:!0===n.enable,type:"danger"},nativeOn:{click:function(t){return e.unload(n)}}},[e._v("卸载")])]}}])})],1),t("div",{staticClass:"page"},[t("el-pagination",{attrs:{"current-page":e.page.index,"page-size":e.page.size,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total,background:""},on:{"size-change":e.handlePageSize,"current-change":e.handlePageIndex}})],1),t("el-dialog",{attrs:{top:e.dialogTop,title:e.dialogTitle,visible:e.visible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"instanceForm",attrs:{"label-width":"120px",model:e.formData,rules:e.formRules}},[t("el-form-item",{staticClass:"task_label",attrs:{label:"实例名称",prop:"instancename"}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入实例名称，非中文"},model:{value:e.formData.instancename,callback:function(t){e.$set(e.formData,"instancename",t)},expression:"formData.instancename"}})],1),t("el-form-item",{staticClass:"task_label",attrs:{label:"读端",prop:"readfrom"}},[t("el-select",{attrs:{placeholder:"请选择读端"},model:{value:e.formData.readfrom,callback:function(t){e.$set(e.formData,"readfrom",t)},expression:"formData.readfrom"}},e._l(e.formData.readsource,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "+e._s(e.formData.row.readfrom)+"\n          ")],1),!0===e.formData.row.opencompute?t("el-form-item",{staticClass:"task_label",attrs:{label:"计算端",prop:"compute"}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入计算端"},model:{value:e.formData.compute,callback:function(t){e.$set(e.formData,"compute",t)},expression:"formData.compute"}}),e._v(e._s(e.formData.row.computeurl)+"\n        ")],1):e._e(),t("el-form-item",{staticClass:"task_label",attrs:{label:"写端",prop:"writeto"}},[t("el-select",{attrs:{placeholder:"请选择写端"},model:{value:e.formData.writeto,callback:function(t){e.$set(e.formData,"writeto",t)},expression:"formData.writeto"}},e._l(e.formData.writesource,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "+e._s(e.formData.row.writeto)+"\n          ")],1),t("pre",{staticClass:"dialog-content",domProps:{innerHTML:e._s(e.detail)}}),t("el-button",{staticClass:"task_add",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("启动实例")])],1)],1),t("el-dialog",{attrs:{top:e.dialogTop,title:e.dialogTitle,visible:e.showXML,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showXML=t}}},[t("codemirror",{attrs:{options:e.cmOptions},model:{value:e.edit_instance.code,callback:function(t){e.$set(e.edit_instance,"code",t)},expression:"edit_instance.code"}}),t("div",{staticClass:"flex flex-center",staticStyle:{"margin-top":"5px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateModule}},[e._v("修改模块信息")])],1)],1)],1)},r=[],o=(a("8615"),a("ac6a"),a("55dd"),a("6762"),a("2fdb"),a("ed89")),i=a("ed5d"),l={data:function(){return{dialogTop:"5vh",edit_instance:{},showXML:!1,tableData:[],cmOptions:{tabSize:4,mode:"text/xml",theme:"paraiso-light",lineNumbers:!0,line:!0,matchBrackets:!0,lineWrapping:!0},originData:[],search:{name:""},visible:!1,page:{index:1,size:10,total:0},detail:"",dialogTitle:"",loading:!0,buttonDisabled:!1,formData:{row:{},readsource:[],writesource:[],instancename:"",readfrom:"",writeto:"",compute:""},formRules:{instancename:[{required:!0,message:"请输入实例名称",trigger:"blur"}],compute:[{required:!1}],readsource:[{required:!0,message:"请选择读端",type:"array",trigger:"change"}],writesource:[{required:!0,message:"请选择写端",type:"array",trigger:"change"}]}}},methods:{handlePageSize:function(e){this.page.index=1,this.page.size=e},handlePageIndex:function(e){this.page.index=e},handleUpdateModule:function(){var e=this,t=new i["a"];this.loading=!0,o["a"].efm_doaction_post({ac:"updateInstanceXml",content:t.encode(this.edit_instance.code),instance:this.edit_instance.instance}).then((function(t){e.edit_instance={},e.showXML=!1,e.loading=!1,e.$process_state(e,"保存 "+e.edit_instance.instance+" 模块配置成功!",t)}))},handleClose:function(e){var t=this;this.$confirm("是否关闭 "+e.name+" 模块实例？","提示",{type:"warning"}).then((function(){t.loading=!0,t.buttonDisabled=!0,o["a"].efm_doaction({ac:"removeInstance",instance:e.name}).then((function(a){t.loading=!1,t.buttonDisabled=!1,t.$process_state(t,"关闭 "+e.name+" 模块实例成功!",a),t.getModuleList()}))}))},handleSubmit:function(){var e=this;this.$refs.instanceForm.validate((function(t){if(t){new i["a"];var a=Object.assign({ac:"startModule"},e.formData);a["module"]=a.row.name,delete a.row,delete a.readsource,delete a.writesource,o["a"].efm_doaction_post(a).then((function(t){e.$process_state(e,"添加 "+a.row.name+" 实例任务成功!",t),e.getModuleList()}))}}))},handleConfig:function(e){var t=this;this.dialogTitle="修改 "+e.name+" 模块配置",o["a"].efm_doaction({ac:"getInstanceXml",instance:e.name}).then((function(a){t.edit_instance.code=a.response.datas,t.edit_instance.instance=e.name,t.showXML=!0}))},unload:function(e){var t=this;this.$confirm("是否卸载 "+e.name+" 模块(将清除该模块)？","提示",{type:"warning"}).then((function(){t.loading=!0,t.buttonDisabled=!0,o["a"].efm_doaction({ac:"unloadModule",module:e.name}).then((function(a){t.$process_state(t,"卸载 "+e.name+" 模块成功!",a),t.getModuleList(),t.loading=!1,t.buttonDisabled=!1}))}))},handleOpen:function(e){var t=this;this.formData.row=e,this.formData.instancename=e.name,this.dialogTitle=e.name+"模块启用实例",this.detail="",this.formData.readsource=[],this.formData.writesource=[],o["a"].efm_doaction({ac:"getResources"}).then((function(a){var n=a.response.datas;for(var r in n)(0==e.readtype.length||e.readtype.includes(n[r].type.toLowerCase()))&&t.formData.readsource.push({label:r,value:r}),(0==e.writetype.length||e.writetype.includes(n[r].type.toLowerCase()))&&t.formData.writesource.push({label:r,value:r});t.formData.readsource=t.formData.readsource.sort((function(e,t){return e.label.localeCompare(t.label)})),t.formData.writesource=t.formData.writesource.sort((function(e,t){return e.label.localeCompare(t.label)})),t.visible=!0}))},handleSearch:function(){var e=this,t=[];this.originData.filter((function(a){for(var n in e.search)-1!==a[n].indexOf(e.search[n])&&t.push(a)})),this.tableData=t,this.page.total=t.length},getModuleList:function(){var e=this;o["a"].efm_doaction({ac:"getModules"}).then((function(t){var a=[];Object.values(t.response.datas).forEach((function(e){a=a.concat(e)})),e.page.total=a.length;var n=a.sort((function(e,t){return e.name.localeCompare(t.name)}));e.tableData=Object.assign([],n),e.originData=Object.assign([],n),e.loading=!1}))}},created:function(){this.getModuleList()}},c=l,s=(a("7fc6"),a("2877")),u=Object(s["a"])(c,n,r,!1,null,"9553b0a6",null);t["default"]=u.exports},"504c":function(e,t,a){var n=a("9e1e"),r=a("0d58"),o=a("6821"),i=a("52a7").f;e.exports=function(e){return function(t){var a,l=o(t),c=r(l),s=c.length,u=0,d=[];while(s>u)a=c[u++],n&&!i.call(l,a)||d.push(e?[a,l[a]]:l[a]);return d}}},5147:function(e,t,a){var n=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,!"/./"[e](t)}catch(r){}}return!0}},"520a":function(e,t,a){"use strict";var n=a("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,i=r,l="lastIndex",c=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e[l]||0!==t[l]}(),s=void 0!==/()??/.exec("")[1],u=c||s;u&&(i=function(e){var t,a,i,u,d=this;return s&&(a=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),c&&(t=d[l]),i=r.call(d,e),c&&i&&(d[l]=d.global?i.index+i[0].length:t),s&&i&&i.length>1&&o.call(i[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)})),i}),e.exports=i},"55dd":function(e,t,a){"use strict";var n=a("5ca1"),r=a("d8e8"),o=a("4bf8"),i=a("79e5"),l=[].sort,c=[1,2,3];n(n.P+n.F*(i((function(){c.sort(void 0)}))||!i((function(){c.sort(null)}))||!a("2f21")(l)),"Array",{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),r(e))}})},"5f1b":function(e,t,a){"use strict";var n=a("23c6"),r=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var o=a.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},6762:function(e,t,a){"use strict";var n=a("5ca1"),r=a("c366")(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"7f7f":function(e,t,a){var n=a("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in r||a("9e1e")&&n(r,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"7fc6":function(e,t,a){"use strict";a("3f76")},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},8615:function(e,t,a){var n=a("5ca1"),r=a("504c")(!1);n(n.S,"Object",{values:function(e){return r(e)}})},a481:function(e,t,a){"use strict";var n=a("cb7c"),r=a("4bf8"),o=a("9def"),i=a("4588"),l=a("0390"),c=a("5f1b"),s=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};a("214f")("replace",2,(function(e,t,a,m){return[function(n,r){var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o,r):a.call(String(o),n,r)},function(e,t){var r=m(a,e,this,t);if(r.done)return r.value;var d=n(e),f=String(this),p="function"===typeof t;p||(t=String(t));var v=d.global;if(v){var b=d.unicode;d.lastIndex=0}var x=[];while(1){var w=c(d,f);if(null===w)break;if(x.push(w),!v)break;var y=String(w[0]);""===y&&(d.lastIndex=l(f,o(d.lastIndex),b))}for(var S="",C=0,_=0;_<x.length;_++){w=x[_];for(var D=String(w[0]),k=s(u(i(w.index),f.length),0),L=[],M=1;M<w.length;M++)L.push(h(w[M]));var A=w.groups;if(p){var O=[D].concat(L,k,f);void 0!==A&&O.push(A);var T=String(t.apply(void 0,O))}else T=g(D,f,k,L,A,t);k>=C&&(S+=f.slice(C,k)+T,C=k+D.length)}return S+f.slice(C)}];function g(e,t,n,o,i,l){var c=n+e.length,s=o.length,u=p;return void 0!==i&&(i=r(i),u=f),a.call(l,u,(function(a,r){var l;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":l=i[r.slice(1,-1)];break;default:var u=+r;if(0===u)return a;if(u>s){var f=d(u/10);return 0===f?a:f<=s?void 0===o[f-1]?r.charAt(1):o[f-1]+r.charAt(1):a}l=o[u-1]}return void 0===l?"":l}))}}))},aae3:function(e,t,a){var n=a("d3f4"),r=a("2d95"),o=a("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},ac6a:function(e,t,a){for(var n=a("cadf"),r=a("0d58"),o=a("2aba"),i=a("7726"),l=a("32e9"),c=a("84f2"),s=a("2b4c"),u=s("iterator"),d=s("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(p),m=0;m<h.length;m++){var g,v=h[m],b=p[v],x=i[v],w=x&&x.prototype;if(w&&(w[u]||l(w,u,f),w[d]||l(w,d,v),c[v]=f,b))for(g in n)w[g]||o(w,g,n[g],!0)}},b0c5:function(e,t,a){"use strict";var n=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},d2c8:function(e,t,a){var n=a("aae3"),r=a("be13");e.exports=function(e,t,a){if(n(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(e))}},ed5d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a481");function n(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},a=function(e){var t="",a=0,n=c1=c2=0;while(a<e.length)n=e.charCodeAt(a),n<128?(t+=String.fromCharCode(n),a++):n>191&&n<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&n)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),a+=3);return t};this.encode=function(a){var n,r,o,i,l,c,s,u="",d=0;a=t(a);while(d<a.length)n=a.charCodeAt(d++),r=a.charCodeAt(d++),o=a.charCodeAt(d++),i=n>>2,l=(3&n)<<4|r>>4,c=(15&r)<<2|o>>6,s=63&o,isNaN(r)?c=s=64:isNaN(o)&&(s=64),u=u+e.charAt(i)+e.charAt(l)+e.charAt(c)+e.charAt(s);return u},this.decode=function(t){var n,r,o,i,l,c,s,u="",d=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<t.length)i=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),s=e.indexOf(t.charAt(d++)),n=i<<2|l>>4,r=(15&l)<<4|c>>2,o=(3&c)<<6|s,u+=String.fromCharCode(n),64!=c&&(u+=String.fromCharCode(r)),64!=s&&(u+=String.fromCharCode(o));return u=a(u),u}}}}]);