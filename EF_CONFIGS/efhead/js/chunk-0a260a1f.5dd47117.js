(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a260a1f"],{"0bfb":function(t,a,s){"use strict";var e=s("cb7c");t.exports=function(){var t=e(this),a="";return t.global&&(a+="g"),t.ignoreCase&&(a+="i"),t.multiline&&(a+="m"),t.unicode&&(a+="u"),t.sticky&&(a+="y"),a}},"0d45":function(t,a,s){"use strict";s("37fa")},"37fa":function(t,a,s){},3846:function(t,a,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"6b54":function(t,a,s){"use strict";s("3846");var e=s("cb7c"),i=s("0bfb"),n=s("9e1e"),r="toString",c=/./[r],l=function(t){s("2aba")(RegExp.prototype,r,t,!0)};s("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?l((function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?i.call(t):void 0)})):c.name!=r&&l((function(){return c.call(this)}))},cd59:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-row",{staticClass:"grid-content grid-info"},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{padding:"3px 10px"}},[a("i",{staticClass:"el-icon-bell"}),t._v(" 当前系统版本："+t._s(t.summary_data.version)+"，系统健康状态：\n  "),"正常"!==t.summary_data.health?a("i",{staticClass:"el-button--warning is-circle"},[t._v(t._s(t.summary_data.health))]):a("i",{staticClass:"el-button--success is-circle"},[t._v(t._s(t.summary_data.health))]),t._v(" ，\n系统启动时间："+t._s(t.summary_data.system_start_time))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("i",{staticClass:"el-icon-office-building dash_icon dash_blue"}),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 集群节点数 ")]),a("span",{staticClass:"card-panel-num"},[t._v("\n    "+t._s(t.summary_data.node_num)+"\n    ")])])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("i",{staticClass:"el-icon-files dash_icon"}),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 实例数 ")]),a("span",{staticClass:"card-panel-num"},[t._v("\n       "+t._s(t.summary_data.task_num)+"\n      ")])])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("i",{staticClass:"el-icon-s-help dash_icon"}),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 资源数 ")]),a("span",{staticClass:"card-panel-num"},[t._v("\n         "+t._s(t.summary_data.resource_num)+"\n        ")])])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("i",{staticClass:"el-icon-share dash_icon"}),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 集群模式 ")]),a("span",{staticClass:"card-panel-num",staticStyle:{"font-size":"18px"}},[t._v("\n         "+t._s(t.summary_data.cluster_mode)+"\n      ")])])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content",staticStyle:{"min-height":"300px"},attrs:{id:"history_statistics"}})])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content",staticStyle:{"min-height":"300px",padding:"0 15px"}},[a("p",{staticStyle:{"min-height":"25px","font-weight":"bold","font-size":"18px",padding:"10px 0"}},[a("i",{staticClass:"el-icon-message-solid"}),t._v(" 集群告警信息监控")]),a("div",{staticClass:"el-table__header-wrapper"},[a("table",{staticClass:"waring_table"},[a("tbody",[a("tr",[a("td",{staticClass:"el-title"},[t._v("L1级错误：系统警告类消息")]),a("td",[a("label",[t._v(t._s(t.summary_data.error_ignore))])])]),a("tr",[a("td",{staticClass:"el-title",staticStyle:{color:"#01bfb3"}},[t._v("L2级错误：需处理类消息")]),a("td",[a("label",[t._v(t._s(t.summary_data.error_dispose))])])]),a("tr",[a("td",{staticClass:"el-title",staticStyle:{color:"#E6A23C"}},[t._v("L3级错误：需及时处理类任务中断消息")]),a("td",[a("label",[t._v(t._s(t.summary_data.error_breakoff))])])]),a("tr",[a("td",{staticClass:"el-title",staticStyle:{color:"#F56C6C"}},[t._v("L4级错误：需立刻处理类任务终结消息")]),a("td",[a("label",[t._v(t._s(t.summary_data.error_termination))])])])])])])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"300"}},[a("el-table-column",{attrs:{fixed:"",prop:"conf_name",label:"配置域"}}),a("el-table-column",{attrs:{prop:"conf_value",label:"配置值"}})],1)]],2)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content",staticStyle:{"min-height":"25px","font-size":"18px"}},[a("p",{staticStyle:{"min-height":"25px","font-weight":"bold","font-size":"18px",padding:"10px"}},[a("i",{staticClass:"el-icon-s-promotion"}),t._v(" 集群使用资源监控")])]),a("div",{staticClass:"grid-content usage_progress",staticStyle:{"min-height":"45px"}},[t._v("\n      CPU使用率\n      "),t.summary_data.cpu_usage?a("el-progress",{class:t.progressStatus(t.summary_data.cpu_usage),attrs:{percentage:t.summary_data.cpu_usage}}):t._e()],1),a("div",{staticClass:"grid-content usage_progress",staticStyle:{"min-height":"45px"}},[t._v("\n      内存使用率\n        "),t.summary_data.memory_usage?a("el-progress",{class:t.progressStatus(t.summary_data.memory_usage),attrs:{percentage:t.summary_data.memory_usage}}):t._e()],1),a("div",{staticClass:"grid-content usage_progress"},[t._v("\n        总体内存："+t._s(t.summary_data.total_memory)+"G\n         ")])])],1)],1)},i=[],n=(s("ac6a"),s("6b54"),s("313e")),r=s("ed89"),c={data:function(){return{summary_data:{},loading:!0,tableData:[]}},mounted:function(){this.chart=n["a"](document.getElementById("history_statistics"))},beforeDestroy:function(){},methods:{drawHistory:function(t,a,s,e,i){var n,r="三端最近 ".concat(i.length,"天数据统计");n={title:{text:r},tooltip:{trigger:"axis"},legend:{data:["Reader","Computer","Writer"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:i},yAxis:{type:"value"},series:[{name:"Reader",type:"line",data:a},{name:"Computer",type:"line",data:e},{name:"Writer",type:"line",data:s}]},t.setOption(n)},progressStatus:function(t){return t>=90?"exception":t>=75?"warning":"success"},getHealthStatus:function(t){switch(t){case"正常":return'<i class="el-button--success is-circle">正常</i>';default:return'<i class="el-button--info is-circle">异常</i>'}},getTimestamps:function(t){var a=new Date;a.toLocaleString("en-US",{timeZone:"Asia/Shanghai"});var s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0).getTime();s/=1e3;for(var e=[s],i=1;i<t;i++){var n=s-24*i*60*60;e.push(n)}return e},getSumaryData:function(){var t=this;r["a"].efm_doaction({ac:"globalStatus"}).then((function(a){t.summary_data=Object.assign([],a.response.datas),t.tableData=[{conf_name:"是否开启调试",conf_value:t.summary_data.is_debug.toString()},{conf_name:"系统语言",conf_value:t.summary_data.lang},{conf_name:"是否开启批写模式",conf_value:t.summary_data.write_batch.toString()},{conf_name:"管理后台代理",conf_value:t.summary_data.proxy_ip},{conf_name:"系统配置路径",conf_value:t.summary_data.sys_config_path},{conf_name:"系统数据路径",conf_value:t.summary_data.datas_config_path},{conf_name:"系统日志路径",conf_value:t.summary_data.log_store_path},{conf_name:"插件路径",conf_value:t.summary_data.plugin_path}];var s=[],e=[],i=[],n=t.getTimestamps(30),r=n.map((function(t){var a=new Date(1e3*t+288e5);return a.toISOString().slice(0,10)}));n.forEach((function(a){t.summary_data.reader.hasOwnProperty(a)?s.push(t.summary_data.reader[a]):s.push(0),t.summary_data.writer.hasOwnProperty(a)?e.push(t.summary_data.writer[a]):e.push(0),t.summary_data.computer.hasOwnProperty(a)?i.push(t.summary_data.computer[a]):i.push(0)})),s.reverse(),e.reverse(),i.reverse(),r.reverse(),t.loading=!1,t.drawHistory(t.chart,s,e,i,r)}))}},created:function(){this.getSumaryData()}};console.log("人的生命是一个常数，而人的作为却是变量。生命就是在超常的作为中得到延展，走向永恒。");var l=c,o=(s("0d45"),s("2877")),d=Object(o["a"])(l,e,i,!1,null,"a6e791a6",null);a["default"]=d.exports}}]);